(()=>{"use strict";((e,t)=>{let n,a="F";const r=e=>"F"===e?"imperial":"metric",o=document.getElementById("searchInput"),d=e=>{e.value=""},c=async(e="Lagos",r="imperial")=>{try{const o=await(async(e,t="F")=>{const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&APPID=26b92a02cedbcea26aeee0df5d80ea33`,{mode:"cors"});if(n.ok)return await n.json();throw new Error("Unable to fetch the weather data")})(e,r);return t.renderPage(o,a),n=await o,o}catch(e){document.getElementById("error-msg").textContent="Sorry... The city was not found.",setTimeout((()=>{document.getElementById("error-msg").innerHTML=""}),5e3)}},m=e=>{"searchInput"===e.target.id?(d(o),document.querySelector("body").style.backgroundImage="url(https://images.pexels.com/photos/912110/pexels-photo-912110.jpeg?auto=compress&cs=tinysrgb&fit=crop&h=627&w=1200 )"):"toggeleUnits"===e.target.id?(e.peventDefault,a="F"===a?"C":"F",c(n.name,r(a))):o.value&&(c(o.value,r(a)),d(o))};c(),o.addEventListener("click",m),o.addEventListener("click",(e=>{o.value&&13===e.which&&c(o.value,r(a))})),document.getElementById("searchBtn").addEventListener("click",m),document.getElementById("toggeleUnits").addEventListener("click",m)})(0,{renderPage:async(e,t="F")=>{const{feels_like:n,temp:a,temp_min:r,temp_max:o}=e.main,{main:d,description:c}=e.weather[0],{name:m}=e,i=Date();document.getElementById("date").innerText=`${i}`,document.getElementById("name").innerText=`${m}, ${e.sys.country} - ${Math.round(a)}º${t}`,document.getElementById("description").innerText=`${c.toUpperCase()} - ${d}`,document.getElementById("feels").innerText=`Current Temperature: ${Math.round(n)} º${t}`,document.getElementById("temp").innerText=`Min temp ${Math.round(r)} º${t} - Max temp ${Math.round(o)} º${t}`,document.getElementById("toggeleUnits").innerText="Change to º"+("C"===t?"F":"C")}})})();