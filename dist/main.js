(()=>{"use strict";((e,t)=>{let n,a="F";const r=e=>"F"===e?"imperial":"metric",d=document.getElementById("searchInput"),i=e=>{e.value=""},m=async(e="Lagos",r="imperial")=>{try{const d=await(async(e,t="F")=>{const n=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}&units=${t}&APPID=26b92a02cedbcea26aeee0df5d80ea33`,{mode:"cors"});if(n.ok)return await n.json();throw new Error("Unable to fetch the weather data")})(e,r);return t.renderPage(d,a),n=await d,d}catch(e){document.getElementById("error-msg").textContent="Sorry... The city was not found.",setTimeout((()=>{document.getElementById("error-msg").innerHTML=""}),5e3)}},o=e=>{"searchInput"===e.target.id?i(d):"toggeleUnits"===e.target.id?(e.peventDefault,a="F"===a?"C":"F",m(n.name,r(a))):d.value&&(m(d.value,r(a)),i(d))};m(),d.addEventListener("click",o),d.addEventListener("click",(e=>{d.value&&13===e.which&&m(d.value,r(a))})),document.getElementById("searchBtn").addEventListener("click",o),document.getElementById("toggeleUnits").addEventListener("click",o)})(0,{renderPage:async(e,t="F")=>{const{feels_like:n,temp:a,temp_min:r,temp_max:d}=e.main,{main:i,description:m}=e.weather[0],{name:o}=e,c=Date();document.getElementById("date").innerText=`${c}`,document.getElementById("name").innerText=`${o}, ${e.sys.country} - ${Math.round(a)}º${t}`,document.getElementById("description").innerText=`${m.toUpperCase()} - ${i}`,document.getElementById("feels").innerText=`Current Temperature: ${Math.round(n)} º${t}`,document.getElementById("temp").innerText=`Min temp ${Math.round(r)} º${t} - Max temp ${Math.round(d)} º${t}`,document.getElementById("toggeleUnits").innerText="Change to º"+("C"===t?"F":"C")}})})();